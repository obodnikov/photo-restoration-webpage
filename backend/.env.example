# Application Settings
APP_NAME="Photo Restoration API"
APP_VERSION="1.0.0"
DEBUG=false

# Server
HOST=0.0.0.0
PORT=8000

# CORS - Allowed origins for CORS (Cross-Origin Resource Sharing)
# Format: JSON array of URLs
# Example: ["http://localhost:3000","http://localhost","https://yourdomain.com"]
CORS_ORIGINS=["http://localhost:3000","http://localhost"]

# Security - CHANGE THESE IN PRODUCTION!
#
# SECRET_KEY: CRITICAL - Cryptographic secret for JWT token signing
# ----------------------------------------------------------------
# Purpose: Signs and verifies authentication tokens (JWT)
# Security: If compromised, attackers can bypass authentication entirely
# Requirements:
#   - MUST be cryptographically random (NOT a password or phrase)
#   - Minimum 32 characters (recommended: 64+ characters)
#   - MUST be unique per environment (dev, staging, production)
#   - NEVER commit the actual secret to version control
#
# Generate a secure key:
#   python3 -c "import secrets; print(secrets.token_urlsafe(32))"
#   openssl rand -base64 32
#
# Important: Changing this will invalidate all existing user sessions/tokens
#
SECRET_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_SECRET_KEY_MIN_32_CHARS
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# Authentication (MVP - simple username/password)
# TODO: Replace with proper user management in Phase 3
# WARNING: Change AUTH_PASSWORD from default in production!
AUTH_USERNAME=admin
AUTH_PASSWORD=changeme

# HuggingFace API
HF_API_KEY=your_huggingface_api_key_here
HF_API_TIMEOUT=60
HF_API_URL=https://api-inference.huggingface.co/models

# Replicate API
REPLICATE_API_TOKEN=your_replicate_api_token_here

# Models Configuration (JSON format)
# IMPORTANT: For Docker, this must be on a SINGLE LINE without any line breaks or extra spaces
# Schema:
#   - id (required): Unique model identifier
#   - name (required): Human-readable model name
#   - model (required): Model path (HuggingFace repo or Replicate model)
#   - provider (required): "huggingface" or "replicate"
#   - category (required): Model category (upscale, enhance, restore, etc.)
#   - description (required): Brief description
#   - parameters (optional): Model-specific parameters
#   - tags (optional): Tags for filtering/search
#   - version (optional): Model version
#
# SINGLE-LINE FORMAT (required for Docker):
MODELS_CONFIG=[{"id":"swin2sr-2x","name":"Swin2SR 2x Upscale","model":"caidas/swin2SR-classical-sr-x2-64","provider":"huggingface","category":"upscale","description":"Fast 2x upscaling for images","parameters":{"scale":2},"tags":["upscale","fast","2x"],"version":"1.0"},{"id":"swin2sr-4x","name":"Swin2SR 4x Upscale","model":"caidas/swin2SR-classical-sr-x4-64","provider":"huggingface","category":"upscale","description":"Fast 4x upscaling for images","parameters":{"scale":4},"tags":["upscale","fast","4x"],"version":"1.0"},{"id":"qwen-edit","name":"Qwen Image Enhance","model":"Qwen/Qwen-Image-Edit-2509","provider":"huggingface","category":"enhance","description":"AI-powered enhancement and restoration","parameters":{"prompt":"enhance details, remove noise and artifacts"},"tags":["enhance","ai","quality"],"version":"2509"},{"id":"replicate-restore","name":"Replicate Photo Restore","model":"flux-kontext-apps/restore-image","provider":"replicate","category":"restore","description":"Advanced photo restoration using Replicate AI","parameters":{},"tags":["restore","replicate","advanced"],"version":"1.0"}]
#
# READABLE MULTI-LINE FORMAT (for reference - DO NOT USE in .env file):
# [
#   {
#     "id": "swin2sr-2x",
#     "name": "Swin2SR 2x Upscale",
#     "model": "caidas/swin2SR-classical-sr-x2-64",
#     "provider": "huggingface",
#     "category": "upscale",
#     "description": "Fast 2x upscaling for images",
#     "parameters": {"scale": 2},
#     "tags": ["upscale", "fast", "2x"],
#     "version": "1.0"
#   },
#   {
#     "id": "swin2sr-4x",
#     "name": "Swin2SR 4x Upscale",
#     "model": "caidas/swin2SR-classical-sr-x4-64",
#     "provider": "huggingface",
#     "category": "upscale",
#     "description": "Fast 4x upscaling for images",
#     "parameters": {"scale": 4},
#     "tags": ["upscale", "fast", "4x"],
#     "version": "1.0"
#   },
#   {
#     "id": "qwen-edit",
#     "name": "Qwen Image Enhance",
#     "model": "Qwen/Qwen-Image-Edit-2509",
#     "provider": "huggingface",
#     "category": "enhance",
#     "description": "AI-powered enhancement and restoration",
#     "parameters": {"prompt": "enhance details, remove noise and artifacts"},
#     "tags": ["enhance", "ai", "quality"],
#     "version": "2509"
#   },
#   {
#     "id": "replicate-restore",
#     "name": "Replicate Photo Restore",
#     "model": "flux-kontext-apps/restore-image",
#     "provider": "replicate",
#     "category": "restore",
#     "description": "Advanced photo restoration using Replicate AI",
#     "parameters": {},
#     "tags": ["restore", "replicate", "advanced"],
#     "version": "1.0"
#   }
# ]

# Models API Authentication
# Set to true to require authentication for model list/details endpoints
# Default: false (public access)
MODELS_REQUIRE_AUTH=false

# Database
DATABASE_URL=sqlite+aiosqlite:///./data/photo_restoration.db

# File Storage
UPLOAD_DIR=./data/uploads
PROCESSED_DIR=./data/processed
MAX_UPLOAD_SIZE=10485760
# Format: JSON array of file extensions
ALLOWED_EXTENSIONS=[".jpg",".jpeg",".png"]

# Session Management
SESSION_CLEANUP_HOURS=24
SESSION_CLEANUP_INTERVAL_HOURS=6

# Processing Limits
MAX_CONCURRENT_UPLOADS_PER_SESSION=3
